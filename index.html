<meta charset=utf-8>
<title>EscApe</title>
<script src=utf7.js></script>
<style>
h1 { font-size: 70px; margin: 0; }
h2 { font-size: 20px; margin: 0; }
body { font-family: arial; width: 90%; margin: 0 auto }
table { width: 100%; border-collapse: collapse; }
td { width: 300px; text-align: center; padding: 5px; background: #f0f0f0; font-size: 12px; vertical-align: top; }
input, textarea { width: 100%; height: 60%; }
</style>
<a href=//github.com/xem/escape><img style="position:absolute;top:0;right:0;border:0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
<center>
<br>
<!--h1>&#9243;&#128018;</h1-->
<img src=logo.png>
<h2>(EscApe)</h2>
<br>
<b>A <a href=//gist.github.com/xem/1d646596b2d9c80f2769>code-golfed</a> tool converting any Unicode string in 23 different formats in real time.</b>
<br>
<br>
<table border>
  <tr>
    <th>Source
    <th>Intermediate formats
    <th>Target formats
  <tr>
    <td rowspan=19>Plain text<br><textarea rows=18 id=i1 oninput='charcodes=i2.value=A(value);i5.value=D(charcodes);codepoints=i3.value=B(value);i6.value=E(codepoints);i7.value=F(codepoints);i8.value=G(codepoints);i9.value=H(codepoints);i10.value=I(codepoints);i11.value=J(codepoints);i12.value=K(codepoints);i13.value=L(codepoints);i14.value=M(value);bytes=i4.value=C(value);i15.value=N(value);i16.value=O(bytes);i17.value=P(bytes);i18.value=Q(bytes);i19.value=R(bytes);i20.value=S(bytes);i21.value=T(bytes);i22.value=U(bytes);i23.value=V(bytes)'>aÂ©â‚¬ðŸ’©</textarea>
    <td>UTF-16 charCodes<br><textarea id=i2 rows=2 oninput='i1.value=a(eval("["+value+"]"));i1.oninput()'></textarea>
    <td>Escaped JS string / regex<br><textarea id=i5 rows=2></textarea>
  <tr>
    <td rowspan=10>Unicode code points<br><textarea rows=9 id=i3 oninput='i1.value=b(eval("["+value+"]"));i1.oninput()'></textarea>
    <td>Decimal HTML entities<br><textarea readonly id=i6 rows=2></textarea>
  <tr>
    <td>Hexadecimal HTML entities<br><textarea readonly id=i7 rows=2></textarea>
  <tr>
    <td>CSS selector / font-family<br><textarea readonly id=i8 rows=2></textarea>
  <tr>
    <td>JS querySelector<br><textarea readonly id=i9 rows=2></textarea>
  <tr>
    <td>CSS unicode-range<br><textarea readonly id=i10 rows=2></textarea>
  <tr>
    <td>JS string (ES6)<br><textarea readonly id=i11 rows=2></textarea>
  <tr>
    <td>Punycode<br><textarea readonly id=i12 rows=2></textarea>
  <tr>
    <td>IDN<br><textarea readonly id=i13 rows=2></textarea>
  <tr>
    <td>UTF-7 <br><textarea readonly id=i14 rows=2></textarea>
  <tr>
    <td>UTF-7 (IMAP)<br><textarea readonly id=i15 rows=2></textarea>
  <tr>
    <td rowspan=8>UTF-8 bytes<br><textarea rows=9 id=i4 oninput='i1.value=c(eval("["+value+"]"));i1.oninput()'></textarea>
    <td>Hexadecimal<br><textarea readonly id=i16 rows=2></textarea>
  <tr>
    <td>Octal<br><textarea readonly id=i17 rows=2></textarea>
  <tr>
    <td>URL<br><textarea readonly id=i18 rows=2></textarea>
  <tr>
    <td>Q / Quoted-printable<br><textarea readonly id=i19 rows=2></textarea>
  <tr>
    <td>MIME + Q<br><textarea readonly id=i20 rows=2></textarea>
  <tr>
    <td>Base64<br><textarea readonly id=i21 rows=2></textarea>
  <tr>
    <td>MIME + Base64<br><textarea readonly id=i22 rows=2></textarea>
  <tr>
    <td>DataURI + base64<br><textarea readonly id=i23 rows=2></textarea>
</table>

<script>
// Demo
onload=function(){i1.oninput()}

/** Encoders **/

// Plain text => array of charCodes
A=function(b,a,c){a=[];for(c in b)a[c]=b.charCodeAt(c);return a}

// Plain text => array of codePoints
B=function(b,a,c,d){a=[];for(c=0;c<b.length;c++)54==(b[d="charCodeAt"](c)>>10)?(a.push(1024*(b[d](c)-55296)+b[d](c+1)+9216),c++):a.push(b[d](c));return a}

// Plain text => array of UTF-8 bytes
C=function(b,a,c,d,n){a=[];for(c=0;c<b.length;c++)128>b[d="charCodeAt"](c)?a.push(b[d](c)):(n=b[c],55296==(b[d](c)&64512)&&(n=b.substr(c,2),c++),encodeURI(n).replace(/\w+/g,function(b){a.push(parseInt(b,16))}));return a}

// Array of CharCodes => JS string
D=function(b,a,c){a="";for(c in b)a+="\\u"+(1E3+b[c].toString(16)).slice(-4);return a}

// Array of CodePoints => Decimal HTML entities
E=function(b,a,c){a="";for(c in b)a+="&#"+b[c]+";";return a}

// Array of CodePoints => Hexadecimal HTML entities
F=function(b,a,c){a="";for(c in b)a+="&#x"+b[c].toString(16)+";";return a}

// Array of CodePoints => CSS selector / font-family
G=function(b,a,c){a="";for(c in b)a+="\\"+b[c].toString(16)+" ";return a}

// Array of CodePoints => CSS selector / font-family
H=function(b,a,c){a="";for(c in b)a+="\\\\"+b[c].toString(16)+" ";return a}

// Array of CodePoints => CSS unicode-range
I=function(b,a,c){a="";for(c in b)a+="U+"+b[c].toString(16)+",";return a.slice(0,-1)}

// Array of CodePoints => ES6 string
J=function(b,a,c){a="";for(c in b)a+="\\u{"+b[c].toString(16)+"}";return a}

// Array of CodePoints => Punycode
// Ungolfed: http://xem.github.io/escape/punycode.js
K=function(p,d,b,l,v,m,c,n,g,h,q,e,f,r,w,x,y,s,u,t,k){t=String.fromCharCode;k=Math.floor;f=[];d=128;m=72;for(c=b=0;c<(r=p.length);++c)128>(e=p[c])&&f.push(t(e));for((l=v=f.length)&&f.push("-");l<r;){n=1E9;for(c=0;c<r;++c)(e=p[c])>=d&&e<n&&(n=e);b+=(n-d)*(w=l+1);d=n;for(c=0;c<r;++c)if((e=p[c])<d&&++b,e==d){g=b;for(h=36;!(g<(q=h<=m?1:h>=m+26?26:h-m));h+=36)u=q+(y=g-q)%(x=36-q),f.push(t(u+22+75*(26>u))),g=k(y/x);f.push(t(g+22+75*(26>g)));s=0;b=l==v?k(b/700):b>>1;for(b+=k(b/w);455<b;s+=36)b=k(b/ 35);m=k(s+36*b/(b+38));b=0;++l}++b;++d}return f.join("")}

// Array of CodePoints => IDN
L=function(b){return "xn--"+K(b)}

// Array of CodePoints => UTF-7
M=function(b){return utf7.encode(b)}

// Array of CodePoints => UTF-7 (IMAP)
N=function(b){return utf7.imap.encode(b)}

// Array of UTF-8 bytes => Hexadecimal
O=function(b,a,c){a="";for(c in b)a+="\\x"+b[c].toString(16);return a}

// Array of UTF-8 bytes => Octal
P=function(b,a,c){a="";for(c in b)a+="\\"+b[c].toString(8);return a}

// Array of UTF-8 bytes => URL encode
Q=function(b,a,c){a="";for(c in b)a+="%"+b[c].toString(16);return a}

// Array of UTF-8 bytes => Q / Quoted-printable
R=function(b,a,c){a="";for(c in b)a+="="+b[c].toString(16);return a}

// Array of UTF-8 bytes => MIME + Q / Quoted-printable
S=function(b,a,c){a="=?UTF-8?Q?";for(c in b)a+="="+b[c].toString(16);return a+"?="}

// Array of UTF-8 bytes => Base64
T=function(b,a,c){a="";for(c in b)a+=String.fromCharCode(b[c]);return btoa(a)}

// Array of UTF-8 bytes => MIME + Base64
U=function(b,a,c){a="";for(c in b)a+=String.fromCharCode(b[c]);return"=?UTF-8?B?"+btoa(a)+"?="}

// Array of UTF-8 bytes => data-URI + Base64
V=function(b,a,c){a="";for(c in b)a+=String.fromCharCode(b[c]);return"data:;charset=utf-8;base64,"+btoa(a)}


/** Decoders **/

// Array of charCodes => Plain text
a=function(b,a,c){a="";for(c in b)a+=String.fromCharCode(b[c]);return a}

// Array of codePoints => Plain text
b=function(b,a,c){a="";for(c in b)if(b[c]>0xFFFF){a+=String.fromCharCode(Math.floor((b[c]-0x10000)/0x400)+0xD800);a+=String.fromCharCode((b[c]-0x10000)%0x400+0xDC00)}else{a+=String.fromCharCode(b[c])}return a}

// Array of UTF-8 bytes => Plain text
c=function(b,a,c){a="";for(c in b)a+="%"+b[c].toString(16);console.log(a);return decodeURI(a)}

// JS string => Array of CharCodes
d=function(b,a,c){}

// Decimal HTML entities => Array of CodePoints 
e=function(b,a,c){}

// Hexadecimal HTML entities => Array of CodePoints 
f=function(b,a,c){}

// CSS selector / font-family => Array of CodePoints 
g=function(b,a,c){}

// CSS selector / font-family => Array of CodePoints 
h=function(b,a,c){}

// CSS unicode-range =>Array of CodePoints 
i=function(b,a,c){}

// ES6 string => Array of CodePoints 
j=function(b,a,c){}

// Punycode => Array of CodePoints 
k=function(b){}

// IDN => Array of CodePoints 
l=function(b){}

// UTF-7 => Array of CodePoints 
m=function(b){}

// UTF-7 (IMAP) => Array of CodePoints 
n=function(b){}

// Hexadecimal => Array of UTF-8 bytes 
o=function(b,a,c){}

// Octal => Array of UTF-8 bytes 
p=function(b,a,c){}

// URL encode => Array of UTF-8 bytes 
q=function(b,a,c){}

// Q / Quoted-printable => Array of UTF-8 bytes 
r=function(b,a,c){}

// MIME + Q / Quoted-printable => Array of UTF-8 bytes 
s=function(b,a,c){}

// Base64 => Array of UTF-8 bytes 
t=function(b,a,c){}

// MIME + Base64 => Array of UTF-8 bytes 
u=function(b,a,c){}

// data-URI + Base64 => Array of UTF-8 bytes 
v=function(b,a,c){}




</script>
<br>
&#169; 2014 - <a href=//xem.github.io>xem</a>
<br>
<br>