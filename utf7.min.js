function z(b,a,c,d,e){c="";for(a in b)c+=(e=String.fromCharCode)((d=b.charCodeAt(a))>>8)+e(d&255);return btoa(c).replace(/=+$/,"")}utf7={encode:function(b){return b.replace(/[^A-Za-z0-9'(),-./:?]+/g,function(a){return"+"+("+"===a?"":z(a))+"-"})},imap:{encode:function(b){return b.replace(/&/g,"&-").replace(/[^\x20-\x7e]+/g,function(a){a=("&"===a?"":z(a)).replace(/\//g,",");return"&"+a+"-"})}}}